"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[672],{3029:function(e,t,a){a.d(t,{Z:function(){return f}});var l=a(3396);const n={class:"excel-main"};function r(e,t,a,r,s,i){const o=(0,l.up)("sand-content"),u=(0,l.up)("suspension"),d=(0,l.up)("rate-and-direction"),v=(0,l.up)("salinity"),c=(0,l.up)("flow-sand-z"),g=(0,l.up)("water-level-chart");return(0,l.wg)(),(0,l.iD)("div",n,[0!=e.sandContentList.length?((0,l.wg)(),(0,l.j4)(o,{key:0,visualId:e.sandContentList[e.centerIndex],ref:"sandContent"},null,8,["visualId"])):(0,l.kq)("",!0),0!=e.suspensionList.length?((0,l.wg)(),(0,l.j4)(u,{key:1,visualId:e.suspensionList[e.centerIndex],ref:"suspension"},null,8,["visualId"])):(0,l.kq)("",!0),0!=e.rateDirectionList.length?((0,l.wg)(),(0,l.j4)(d,{key:2,visualId:e.rateDirectionList[e.centerIndex],ref:"rateAndDirection"},null,8,["visualId"])):(0,l.kq)("",!0),0!=e.salinityList.length?((0,l.wg)(),(0,l.j4)(v,{key:3,visualId:e.salinityList[e.centerIndex],ref:"salinity"},null,8,["visualId"])):(0,l.kq)("",!0),0!=e.flowSandZList.length?((0,l.wg)(),(0,l.j4)(c,{key:4,visualId:e.flowSandZList[e.centerIndex],ref:"flowSandZ"},null,8,["visualId"])):(0,l.kq)("",!0),e.waterLevelChartInfo.flag?((0,l.wg)(),(0,l.j4)(g,{key:5,info:e.waterLevelChartInfo,ref:"waterLevelChart"},null,8,["info"])):(0,l.kq)("",!0)])}var s=a(4870),i=a(8652),o=a(6692),u=a(1163),d=a(5392),v=a(304),c=a(4461),g=(0,l.aZ)({components:{SandContent:i.Z,Suspension:o.Z,RateAndDirection:u.Z,Salinity:d.Z,FlowSandZ:v.Z,WaterLevelChart:c.Z},props:{sandContentList:{type:Array},suspensionList:{type:Array},rateDirectionList:{type:Array},salinityList:{type:Array},flowSandZList:{type:Array},tableNameList:{type:Array},waterLevelChartInfo:{type:Object}},setup(e){const t=(0,s.iH)(),a=(0,s.iH)(),n=(0,s.iH)(),r=(0,s.iH)(),i=(0,s.iH)(),o=(0,s.iH)(),u=(0,s.iH)(0),d=(0,l.Fl)((()=>(u.value-1+c.value.length)%c.value.length)),v=(0,l.Fl)((()=>(u.value+1)%c.value.length)),c=(0,l.Fl)((()=>e.tableNameList)),g=(0,l.Fl)((()=>e.sandContentList)),p=(0,l.Fl)((()=>e.suspensionList)),y=(0,l.Fl)((()=>e.rateDirectionList)),f=(0,l.Fl)((()=>e.salinityList)),w=(0,l.Fl)((()=>e.flowSandZList)),m=(0,l.Fl)((()=>e.waterLevelChartInfo)),h=async e=>{u.value="left"===e?(u.value-1+c.value.length)%c.value.length:(u.value+1)%c.value.length,0!=g.value?.length?await t.value.refreshData(g.value[u.value]):0!=p.value?.length?await a.value.refreshData(p.value[u.value]):0!=y.value?.length?await n.value.refreshData(y.value[u.value]):0!=f.value?.length?await r.value.refreshData(f.value[u.value]):0!=w.value?.length?await i.value.refreshData(w.value[u.value]):o&&o.value.refreshData()};return(0,l.bv)((()=>{console.log(e.waterLevelChartInfo)})),{sandContent:t,suspension:a,rateAndDirection:n,salinity:r,flowSandZ:i,tableNameList:c,sandContentList:g,suspensionList:p,rateDirectionList:y,salinityList:f,flowSandZList:w,centerIndex:u,leftIndex:d,rightIndex:v,waterLevelChartInfo:m,waterLevelChart:o,changeExcel:h}}}),p=a(89);const y=(0,p.Z)(g,[["render",r],["__scopeId","data-v-bb6eab98"]]);var f=y},9072:function(e,t,a){a.d(t,{Z:function(){return I}});var l=a(3396),n=a(7139);const r={class:"map-visual"},s={class:"body"},i={class:"text",style:{"margin-left":"20px"}},o={class:"icon icon-left"},u={class:"text"},d={class:"body"},v={class:"text"},c={class:"icon icon-right"},g={ref:"container",class:"container"};function p(e,t,a,p,y,f){const w=(0,l.up)("ArrowLeftBold"),m=(0,l.up)("el-icon"),h=(0,l.up)("el-card"),_=(0,l.up)("el-col"),x=(0,l.up)("ArrowRightBold"),I=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",r,[e.movePngArray.length>1?((0,l.wg)(),(0,l.j4)(I,{key:0,gutter:20,justify:"center",style:{"margin-bottom":"20px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{span:8,style:{"text-align":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"video",shadow:"always",style:{"margin-top":"30px","margin-bottom":"10px"},onClick:t[0]||(t[0]=t=>e.changeRaster("left"))},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",i,[(0,l._)("strong",null,(0,n.zw)(e.movePngArray[e.leftIndex].name),1)]),(0,l._)("div",o,[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w)])),_:1})])])])),_:1})])),_:1}),(0,l.Wm)(_,{span:8,style:{"text-align":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{shadow:"always",style:{"margin-top":"10px","margin-bottom":"10px","background-color":"lightgrey"}},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("strong",null,(0,n.zw)(e.movePngArray[e.centerIndex].name),1)])])),_:1})])),_:1}),(0,l.Wm)(_,{span:8,style:{"text-align":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"video",shadow:"always",style:{"margin-top":"30px","margin-bottom":"10px"},onClick:t[1]||(t[1]=t=>e.changeRaster("right"))},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l._)("div",v,[(0,l._)("strong",null,(0,n.zw)(e.movePngArray[e.rightIndex].name),1)]),(0,l._)("div",c,[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x)])),_:1})])])])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),(0,l._)("div",g,null,512)])}a(7658);var y=a(4870),f=a(7709),w=a.n(f),m=a(7064),h=(0,l.aZ)({props:{shpArray:{type:Array},pngArray:{type:Array},rasterTileArray:{type:Array},movePngArray:{type:Array}},setup(e){const t=(0,y.iH)();let a,n=[120.972137,31.821921],r=10;const s=[],i=()=>{void 0!=e.rasterTileArray&&e.rasterTileArray.forEach((e=>{a.addSource(e.visualId,{type:"raster",tiles:[window.location.origin+`/monitor/visual/getRaster/${e.visualId}/{x}/{y}/{z}`]}),a.addLayer({id:e.visualId,type:"raster",source:e.visualId}),s.push(e.visualId)})),void 0!=e.pngArray&&e.pngArray.forEach((e=>{a.addSource(e.visualId,{type:"image",url:window.location.origin+`/monitor/visual/getPngResource/${e.visualId}`,coordinates:e.coordinates}),a.addLayer({id:e.visualId,type:"raster",source:e.visualId}),s.push(e.visualId)})),u.value.length>0&&(a.addSource(u.value[0].visualId,{type:"image",url:window.location.origin+`/monitor/visual/getPngResource/${u.value[0].visualId}`,coordinates:u.value[0].coordinates}),a.addLayer({id:u.value[0].visualId,type:"raster",source:u.value[0].visualId}),s.push(u.value[0].visualId)),void 0!=e.shpArray&&e.shpArray.forEach((e=>{a.addSource(e.visualId,{type:"vector",tiles:[window.location.origin+`/monitor/visual/getVectorTiles/${e.visualId}/{x}/{y}/{z}`]}),a.addLayer({id:e.visualId,source:e.visualId,type:e.type,"source-layer":e.visualId}),s.push(e.visualId)}));const t=[...e.movePngArray,...e.pngArray,...e.rasterTileArray,...e.shpArray];for(let e=0;e<t.length;e++)n=t[e].view.center,r=t[e].view.zoom;a.setZoom(r),a.setCenter(n)},o=()=>{t.value.style.background=m.F.background,a=new(w().Map)({container:t.value,style:m.F.styleJson,center:n,zoom:r,accessToken:"pk.eyJ1Ijoiam9obm55dCIsImEiOiJja2xxNXplNjYwNnhzMm5uYTJtdHVlbTByIn0.f1GfZbFLWjiEayI6hb_Qvg"}),a.on("load",i)},u=(0,l.Fl)((()=>e.movePngArray)),d=(0,y.iH)(0),v=(0,l.Fl)((()=>(d.value-1+u.value.length)%u.value.length)),c=(0,l.Fl)((()=>(d.value+1)%u.value.length)),g=e=>{const t=d.value;d.value="left"===e?(d.value-1+u.value.length)%u.value.length:(d.value+1)%u.value.length,a.addSource(u.value[d.value].visualId,{type:"image",url:window.location.origin+`/monitor/visual/getPngResource/${u.value[d.value].visualId}`,coordinates:u.value[d.value].coordinates}),a.addLayer({id:u.value[d.value].visualId,type:"raster",source:u.value[d.value].visualId}),a.setZoom(u.value[d.value].view.zoom),a.setCenter(u.value[d.value].view.center),a.removeLayer(u.value[t].visualId),a.removeSource(u.value[t].visualId),s.pop(),s.push(u.value[d.value].visualId)};return(0,l.YP)((()=>[...e.movePngArray,...e.pngArray,...e.rasterTileArray,...e.shpArray]),(()=>{s.forEach((e=>{a.getLayer(e)&&(a.removeLayer(e),a.removeSource(e))})),i()})),(0,l.bv)((()=>{o()})),{container:t,movePngArray:u,changeRaster:g,centerIndex:d,leftIndex:v,rightIndex:c}}}),_=a(89);const x=(0,_.Z)(h,[["render",p],["__scopeId","data-v-5fc8ec17"]]);var I=x},9028:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(3396);const n={class:"photo-visual"};function r(e,t,a,r,s,i){const o=(0,l.up)("el-image"),u=(0,l.up)("el-carousel-item"),d=(0,l.up)("el-carousel");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(d,{interval:2e3,type:"card",style:{"margin-top":"30px"},"indicator-position":"none"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.photoList,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{fit:"fill",src:e},null,8,["src"])])),_:2},1024)))),128))])),_:1})])}var s=(0,l.aZ)({props:{photoList:{type:Array}},setup(e){const t=(0,l.Fl)((()=>e.photoList));return{photoList:t}}}),i=a(89);const o=(0,i.Z)(s,[["render",r],["__scopeId","data-v-63658bdc"]]);var u=o},3577:function(e,t,a){a.d(t,{Z:function(){return h}});var l=a(3396),n=a(7139);const r={class:"video-visual"},s={class:"body"},i={class:"text",style:{"margin-left":"20px"}},o={class:"icon icon-left"},u={class:"text"},d={class:"body"},v={class:"text"},c={class:"icon icon-right"},g=["src"];function p(e,t,a,p,y,f){const w=(0,l.up)("ArrowLeftBold"),m=(0,l.up)("el-icon"),h=(0,l.up)("el-card"),_=(0,l.up)("el-col"),x=(0,l.up)("ArrowRightBold"),I=(0,l.up)("el-row"),L=(0,l.up)("el-skeleton");return(0,l.wg)(),(0,l.iD)("div",r,[e.urls.length>1?((0,l.wg)(),(0,l.j4)(I,{key:0,gutter:20,justify:"center",style:{"margin-bottom":"20px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{span:8,style:{"text-align":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"video",shadow:"always",style:{"margin-top":"30px","margin-bottom":"10px"},onClick:t[0]||(t[0]=t=>e.changeHandle("left"))},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",i,[(0,l._)("strong",null,(0,n.zw)(e.urls[e.leftIndex].fileName),1)]),(0,l._)("div",o,[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w)])),_:1})])])])),_:1})])),_:1}),(0,l.Wm)(_,{span:8,style:{"text-align":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{shadow:"always",style:{"margin-top":"10px","margin-bottom":"10px","background-color":"lightgrey"}},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("strong",null,(0,n.zw)(e.urls[e.centerIndex].fileName),1)])])),_:1})])),_:1}),(0,l.Wm)(_,{span:8,style:{"text-align":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"video",shadow:"always",style:{"margin-top":"30px","margin-bottom":"10px"},onClick:t[1]||(t[1]=t=>e.changeHandle("right"))},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l._)("div",v,[(0,l._)("strong",null,(0,n.zw)(e.urls[e.rightIndex].fileName),1)]),(0,l._)("div",c,[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x)])),_:1})])])])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.skeletonFlag?((0,l.wg)(),(0,l.j4)(L,{key:1,rows:5,animated:""})):((0,l.wg)(),(0,l.iD)("video",{key:2,ref:"player",controls:"",src:e.urls[e.centerIndex].url,autoplay:""},null,8,g))])}var y=a(4870),f=(0,l.aZ)({props:{urls:{type:Array}},setup(e){const t=(0,y.iH)(),a=(0,y.iH)([]),n=(0,y.iH)(!0),r=(0,y.iH)(0),s=(0,l.Fl)((()=>(r.value-1+a.value.length)%a.value.length)),i=(0,l.Fl)((()=>(r.value+1)%a.value.length)),o=e=>{r.value="left"===e?(r.value-1+a.value.length)%a.value.length:(r.value+1)%a.value.length};return(0,l.bv)((()=>{console.log(e.urls),a.value=e.urls,n.value=!1})),{urls:a,centerIndex:r,leftIndex:s,rightIndex:i,player:t,changeHandle:o,skeletonFlag:n}}}),w=a(89);const m=(0,w.Z)(f,[["render",p],["__scopeId","data-v-fc256e66"]]);var h=m},4461:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(3396);const n={class:"water-level-info"},r={class:"chart",ref:"chart"};function s(e,t,a,s,i,o){return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",r,null,512)])}var i=a(4870),o=a(9043),u=(0,l.aZ)({props:{info:{type:Object}},setup(e){const t=(0,i.iH)();let a,n={};const r=()=>{e.info&&(n={title:{padding:[10,0,0,160],text:"实时水位",textStyle:{fontFamily:"Microsoft YaHei"}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:e.info.legend,top:10},grid:{top:50,right:50*(e.info.series.length-1)},dataZoom:[{xAxisIndex:[0],filterMode:"filter",start:50,end:100}],xAxis:{name:"时间",type:"category",data:e.info.timeList,nameTextStyle:{width:20,overflow:"none",textBorderType:"solid"}},yAxis:e.info.yAxis,series:e.info.series})},s=()=>{r(),a.setOption(n)};return(0,l.bv)((()=>{r(),a=o.S1(t.value),a.setOption(n)})),{chart:t,refreshData:s}}}),d=a(89);const v=(0,d.Z)(u,[["render",s],["__scopeId","data-v-5adbae78"]]);var c=v},8938:function(e,t,a){a.d(t,{Z:function(){return F}});var l=a(3396);const n=e=>((0,l.dD)("data-v-320d48f0"),e=e(),(0,l.Cn)(),e),r={class:"page-copyrught"},s={class:"top"},i=n((()=>(0,l._)("div",null,[(0,l._)("strong",null,"支撑服务")],-1))),o=n((()=>(0,l._)("div",{class:"border"},null,-1))),u=n((()=>(0,l._)("div",{class:"text-model"},"资源门户",-1))),d=n((()=>(0,l._)("div",{class:"text-model"},"监测与预报",-1))),v=n((()=>(0,l._)("div",{class:"text-model"},"水运一张图",-1))),c=n((()=>(0,l._)("div",{class:"text-model"},"工程可视化",-1))),g=n((()=>(0,l._)("div",{class:"text-model"},"分析中心",-1))),p=n((()=>(0,l._)("div",null,[(0,l._)("strong",null,"联系我们")],-1))),y=n((()=>(0,l._)("div",{class:"border"},null,-1))),f=n((()=>(0,l._)("div",{class:"text"},"地址：南京市广州路223号",-1))),w=n((()=>(0,l._)("div",{class:"text"},"南科院联系电话：025-85828808",-1))),m=n((()=>(0,l._)("div",{class:"text"},"邮箱：webmaster@nhri.cn",-1))),h=n((()=>(0,l._)("div",{class:"text"},"邮编：210029",-1))),_=n((()=>(0,l._)("div",null,[(0,l._)("strong",null,"关于我们")],-1))),x=n((()=>(0,l._)("div",{class:"border"},null,-1))),I=n((()=>(0,l._)("div",{class:"text"},"南京水利科学研究院",-1))),L=n((()=>(0,l._)("img",{src:"/resource/wx_code.jpg",alt:""},null,-1))),A=n((()=>(0,l._)("div",{class:"dividing-line one"},null,-1))),b=n((()=>(0,l._)("div",{class:"dividing-line two"},null,-1))),k=n((()=>(0,l._)("div",{class:"bottom"}," ©水利部交通运输部国家能源局南京水利科学研究院   |   Copyright ©2022   |   苏ICP备05007122号 ",-1)));function Z(e,t,a,n,Z,C){const W=(0,l.up)("el-col"),D=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",s,[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{span:8},{default:(0,l.w5)((()=>[i,o,u,d,v,c,g])),_:1}),(0,l.Wm)(W,{span:8},{default:(0,l.w5)((()=>[p,y,f,w,m,h])),_:1}),(0,l.Wm)(W,{span:8},{default:(0,l.w5)((()=>[_,x,I,L])),_:1})])),_:1}),A,b]),k])}var C=(0,l.aZ)({setup(){}}),W=a(89);const D=(0,W.Z)(C,[["render",Z],["__scopeId","data-v-320d48f0"]]);var F=D}}]);
//# sourceMappingURL=672.b2b59cc0.js.map