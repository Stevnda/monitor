"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[319],{1933:function(e,a,t){t.r(a),t.d(a,{default:function(){return ta}});var l=t(3396);const i={class:"main"};function n(e,a,t,n,o,s){const u=(0,l.up)("el-skeleton"),r=(0,l.up)("data-detail");return(0,l.wg)(),(0,l.iD)("div",i,[e.skeletonFlag?((0,l.wg)(),(0,l.j4)(u,{key:0,rows:5,animated:""})):((0,l.wg)(),(0,l.j4)(r,{key:1,fileInfo:e.fileInfo},null,8,["fileInfo"]))])}var o=t(4870),s=t(3824),u=t(26),r=t(7139),d=t(9242);const c=e=>((0,l.dD)("data-v-3886eb78"),e=e(),(0,l.Cn)(),e),v={class:"head"},p={class:"info"},m={class:"top-left"},f=c((()=>(0,l._)("div",null,null,-1))),y={class:"title"},w={key:0,src:"/png/hot.png"},g={class:"tags"},h=c((()=>(0,l._)("span",null,"标签：",-1))),_={class:"des"},k=c((()=>(0,l._)("span",null,"简介：",-1))),S=c((()=>(0,l._)("div",{class:"creator"},[(0,l._)("span",null,"条目作者："),(0,l._)("strong",null,"管理员")],-1))),W={class:"top-right"},L=["src"],D={class:"icon"},I={class:"icon"},C=c((()=>(0,l._)("div",{class:"text"},"浏览量",-1))),x=c((()=>(0,l._)("div",{class:"text"},"下载量",-1))),H={class:"num"},T={class:"num"},b={class:"data-detail"},A={class:"left"},Z={class:"basicInfo"},N={class:"providerInfo"},P={class:"data-list"},F={key:1,class:"list"},j={key:0},z={key:1},M={class:"bottom"},O={class:"text"},E={style:{color:"#ff8c00"}},V=c((()=>(0,l._)("strong",null,"下载所有",-1))),J={class:"visual"},$={key:1},U={key:0,class:"map"},Y={key:1,class:"photo"},q={key:2,class:"video"},R={key:3,class:"excel"},B={key:4},X={class:"use"},K=["innerHTML"],G={class:"right"},Q=c((()=>(0,l._)("div",{class:"title"},[(0,l._)("strong",null,"空间位置")],-1))),ee=c((()=>(0,l._)("div",{class:"title"},[(0,l._)("strong",null,"近10天访问记录")],-1))),ae={class:"visit"},te=c((()=>(0,l._)("div",{class:"title"},[(0,l._)("strong",null,"相似数据")],-1))),le={key:1,class:"similar"},ie={key:0},ne=["title","onClick"],oe={class:"page"},se={key:1};function ue(e,a,t,i,n,o){const s=(0,l.up)("el-tag"),u=(0,l.up)("View"),c=(0,l.up)("el-icon"),ue=(0,l.up)("el-col"),re=(0,l.up)("Download"),de=(0,l.up)("el-row"),ce=(0,l.up)("data-head"),ve=(0,l.up)("data-description"),pe=(0,l.up)("el-skeleton"),me=(0,l.up)("el-empty"),fe=(0,l.up)("el-table-column"),ye=(0,l.up)("el-button"),we=(0,l.up)("el-table"),ge=(0,l.up)("map-visual"),he=(0,l.up)("photo-visual"),_e=(0,l.up)("video-visual"),ke=(0,l.up)("excel-visual"),Se=(0,l.up)("location-map"),We=(0,l.up)("statistics"),Le=(0,l.up)("Right"),De=(0,l.up)("el-pagination"),Ie=(0,l.up)("page-copyright");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",v,[(0,l._)("div",p,[(0,l._)("div",m,[f,(0,l._)("div",y,[(0,l._)("strong",null,(0,r.zw)(e.fileInfo.name),1),e.fileInfo.watch>=20?((0,l.wg)(),(0,l.iD)("img",w)):(0,l.kq)("",!0)]),(0,l._)("div",g,[h,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.fileInfo.tags,((e,a)=>((0,l.wg)(),(0,l.j4)(s,{key:a,effect:"dark",color:"#446aad"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))]),(0,l._)("div",_,[k,(0,l.Uk)((0,r.zw)(e.fileInfo.description),1)]),S]),(0,l._)("div",W,[(0,l._)("img",{src:e.avatar},null,8,L),(0,l.Wm)(de,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l._)("div",D,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l._)("div",I,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(re)])),_:1})])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[C])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l._)("div",H,"（"+(0,r.zw)(e.fileInfo.watch)+"）",1)])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l._)("div",T,"（"+(0,r.zw)(e.fileInfo.download)+"）",1)])),_:1})])),_:1})])])]),(0,l._)("div",b,[(0,l._)("div",A,[(0,l._)("div",Z,[(0,l.Wm)(ce,{title:"基本信息"}),(0,l.Wm)(de,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{data:{key:"数据时间：",value:e.fileInfo.timeStamp}},null,8,["data"])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{style:{color:"#ff8c00"},data:{key:"数据类型：",value:e.fileInfo.type}},null,8,["data"])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{data:{key:"创建时间：",value:e.date(e.fileInfo.createTime)}},null,8,["data"])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{data:{key:"更新时间：",value:e.date(e.fileInfo.updateTime)}},null,8,["data"])])),_:1}),(0,l.Wm)(ue,{span:24},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{style:{width:"100%"},data:{key:"空间描述：",value:e.fileInfo.range}},null,8,["data"])])),_:1})])),_:1})]),(0,l._)("div",N,[(0,l.Wm)(ce,{title:"数据提供方"}),(0,l.Wm)(de,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{data:{key:"作　　者：",value:e.fileInfo.provider}},null,8,["data"])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{style:{color:"#ff8c00"},data:{key:"电　　话：",value:e.fileInfo.providerPhone}},null,8,["data"])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{data:{key:"邮　　箱：",value:e.fileInfo.providerEmail}},null,8,["data"])])),_:1}),(0,l.Wm)(ue,{span:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ve,{data:{key:"地　　址：",value:e.fileInfo.providerAddress}},null,8,["data"])])),_:1})])),_:1})]),(0,l._)("div",P,[(0,l.Wm)(ce,{title:"数据列表"}),e.fileSkeleton?((0,l.wg)(),(0,l.j4)(pe,{key:0})):((0,l.wg)(),(0,l.iD)("div",F,[0===e.fileList.length?((0,l.wg)(),(0,l.iD)("div",j,[(0,l.Wm)(me,{description:"暂无数据"})])):((0,l.wg)(),(0,l.iD)("div",z,[(0,l.Wm)(we,{data:e.fileList,height:"500",stripe:""},{default:(0,l.w5)((()=>[(0,l.Wm)(fe,{prop:"fileName",label:"文件名称",width:"650"}),(0,l.Wm)(fe,{prop:"size",label:"文件大小",width:"150"}),(0,l.Wm)(fe,{fixed:"right",label:"下载"},{default:(0,l.w5)((a=>[(0,l.Wm)(ye,{type:"success",icon:"Share",round:"",size:"small",onClick:(0,d.iM)((t=>e.downloadOrigin(a.$index)),["prevent"])},null,8,["onClick"])])),_:1})])),_:1},8,["data"]),(0,l._)("div",M,[(0,l._)("div",O,[(0,l.Uk)(" 共 "),(0,l._)("strong",E,(0,r.zw)(e.fileList.length),1),(0,l.Uk)(" 个文件 "),(0,l.Wm)(ye,{type:"success",link:"",circle:"",onClick:e.downloadAll},{default:(0,l.w5)((()=>[V])),_:1},8,["onClick"])])])]))]))]),(0,l._)("div",J,[(0,l.Wm)(ce,{title:"数据预览"}),e.visualSkeleton?((0,l.wg)(),(0,l.j4)(pe,{key:0,rows:5,animated:""})):((0,l.wg)(),(0,l.iD)("div",$,[e.mapShow?((0,l.wg)(),(0,l.iD)("div",U,[(0,l.Wm)(ge,{shpArray:e.shpArray,movePngArray:e.movePngArray,pngArray:e.pngArray,rasterTileArray:e.rasterTileArray},null,8,["shpArray","movePngArray","pngArray","rasterTileArray"])])):(0,l.kq)("",!0),e.photoShow?((0,l.wg)(),(0,l.iD)("div",Y,[(0,l.Wm)(he,{photoList:e.photoList},null,8,["photoList"])])):(0,l.kq)("",!0),e.videoShow?((0,l.wg)(),(0,l.iD)("div",q,[(0,l.Wm)(_e,{urls:e.videoList},null,8,["urls"])])):(0,l.kq)("",!0),e.excelShow?((0,l.wg)(),(0,l.iD)("div",R,[(0,l.Wm)(ke,{tableNameList:e.tableNameList,sandContentList:e.sandContentList,suspensionList:e.suspensionList,rateDirectionList:e.rateDirectionList,salinityList:e.salinityList,flowSandZList:e.flowSandZList,waterLevelChartInfo:e.waterLevelInfo},null,8,["tableNameList","sandContentList","suspensionList","rateDirectionList","salinityList","flowSandZList","waterLevelChartInfo"])])):(0,l.kq)("",!0),e.mapShow||e.photoShow||e.excelShow||e.videoShow?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",B,[(0,l.Wm)(me,{description:"数据暂不支持预览"})]))]))]),(0,l._)("div",X,[(0,l.Wm)(ce,{title:"其他描述"}),(0,l._)("div",{class:"editor-content-view",innerHTML:e.fileInfo.detail},null,8,K)])]),(0,l._)("div",G,[Q,(0,l.Wm)(Se,{style:{width:"100%",height:"300px"},location:e.location},null,8,["location"]),ee,(0,l._)("div",ae,[(0,l.Wm)(We)]),te,e.similarSkeleton?((0,l.wg)(),(0,l.j4)(pe,{key:0,rows:5,animated:""})):((0,l.wg)(),(0,l.iD)("div",le,[e.similarDataList.length>0?((0,l.wg)(),(0,l.iD)("div",ie,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.similarDataList,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"similar-item",title:a.name,onClick:t=>e.similarClick(a.id)},[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Le)])),_:1}),(0,l.Uk)(" "+(0,r.zw)(a.name),1)],8,ne)))),128)),(0,l._)("div",oe,[(0,l.Wm)(De,{small:"",layout:"jumper, prev, pager, next",total:e.similarTotal,"page-size":10,"current-page":e.currentPageSimilar,"onUpdate:currentPage":a[0]||(a[0]=a=>e.currentPageSimilar=a),onCurrentChange:e.pageChangeSimilar,"hide-on-single-page":"","pager-count":5},null,8,["total","current-page","onCurrentChange"])])])):((0,l.wg)(),(0,l.iD)("div",se,[(0,l.Wm)(me,{description:"暂无相似数据"})]))]))])]),(0,l.Wm)(Ie)])}t(7658);const re={class:"data-description"},de={class:"key"},ce={class:"text"},ve={class:"value"};function pe(e,a,t,i,n,o){return(0,l.wg)(),(0,l.iD)("div",re,[(0,l._)("div",de,[(0,l._)("div",ce,(0,r.zw)(e.key),1)]),(0,l._)("div",ve,(0,r.zw)(e.value),1)])}var me=(0,l.aZ)({props:{data:{type:Object}},setup(e){const a=(0,l.Fl)((()=>e.data.key)),t=(0,l.Fl)((()=>e.data.value));return{key:a,value:t}}}),fe=t(89);const ye=(0,fe.Z)(me,[["render",pe],["__scopeId","data-v-6748929e"]]);var we=ye;const ge=e=>((0,l.dD)("data-v-39a6f483"),e=e(),(0,l.Cn)(),e),he={class:"data-head"},_e={class:"divider"},ke=ge((()=>(0,l._)("div",{class:"mark"},null,-1))),Se={class:"text"},We=ge((()=>(0,l._)("hr",{style:{"margin-top":"32px",color:"#696969"}},null,-1)));function Le(e,a,t,i,n,o){const s=(0,l.up)("el-col"),u=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",he,[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{span:3},{default:(0,l.w5)((()=>[(0,l._)("div",_e,[ke,(0,l._)("div",Se,[(0,l._)("strong",null,(0,r.zw)(e.title),1)])])])),_:1}),(0,l.Wm)(s,{span:21},{default:(0,l.w5)((()=>[We])),_:1})])),_:1})])}var De=(0,l.aZ)({props:{title:{type:String}},setup(e){const a=(0,l.Fl)((()=>e.title));return{title:a}}});const Ie=(0,fe.Z)(De,[["render",Le],["__scopeId","data-v-39a6f483"]]);var Ce=Ie,xe=t(6583),He=t(8729);const Te={class:"scene-map-wrapper2"},be={id:"map2"},Ae={src:"/png/nolocation.png"};function Ze(e,a,t,i,n,o){return(0,l.wg)(),(0,l.iD)("div",Te,[(0,l.wy)((0,l._)("div",be,null,512),[[d.F8,e.coordinates.length>0]]),(0,l.wy)((0,l._)("img",Ae,null,512),[[d.F8,0===e.coordinates.length]])])}var Ne=t(7709),Pe=t.n(Ne),Fe=t(7064),je=(0,l.aZ)({props:{location:{type:Object}},setup(e){let a;const t=e=>{if(e.length>0){const a=[0,0];for(let t=0;t<e.length;t+=2)a[0]+=parseFloat(e[t]),a[1]+=parseFloat(e[t+1]);return a[0]=a[0]/(e.length/2),a[1]=a[1]/(e.length/2),a}return[121.18,31.723]},i=(0,l.Fl)((()=>{if(e.location.length>0){const a=[];for(let t=0;t+1<e.location.length;t+=2)a.push([parseFloat(e.location[t]),parseFloat(e.location[t+1])]);return a}return[]})),n=()=>{i.value.length>0&&(a.setCenter(t(e.location)),a.removeLayer("someS id"),a.removeSource("someS id"),a.addSource("someS id",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[i.value]}}]}}),a.addLayer({id:"someS id",source:"someS id",type:"fill",layout:{},paint:{"fill-color":"#6495ED","fill-opacity":.5}}))},o=()=>{const l=document.getElementById("map2");l.style.backgroundColor=Fe.F.background,a=new(Pe().Map)({container:"map2",style:Fe.F.styleJson,center:t(e.location),zoom:7,accessToken:"pk.eyJ1Ijoiam9obm55dCIsImEiOiJja2xxNXplNjYwNnhzMm5uYTJtdHVlbTByIn0.f1GfZbFLWjiEayI6hb_Qvg"}),a.on("load",(()=>{a.addSource("someS id",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[i.value]}}]}}),a.addLayer({id:"someS id",source:"someS id",type:"fill",layout:{},paint:{"fill-color":"#6495ED","fill-opacity":.5}})}))};return(0,l.YP)((()=>[...e.location]),(e=>{n()})),(0,l.bv)((()=>{o()})),{setData:n,coordinates:i}}});const ze=(0,fe.Z)(je,[["render",Ze]]);var Me=ze,Oe=t(9072),Ee=t(9028),Ve=t(3029),Je=t(3577);const $e={ref:"statisticChart",class:"statisticChart"};function Ue(e,a,t,i,n,o){return(0,l.wg)(),(0,l.iD)("div",$e,null,512)}var Ye=t(9043),qe=(0,l.aZ)({setup(){const e=(0,o.iH)();let a,t={};const i=async e=>{const a=await(0,u.ID)(e,-9);if(a&&0===a.code){const e=new Date,l=(0,xe.VR)(e.toLocaleDateString(),-10),i=[];l.forEach((e=>{0===a.data.length&&i.push(0);for(let t=0;t<a.data.length;t++){if(e===a.data[t].date)return void i.push(a.data[t].sum);t===a.data.length-1&&i.push(0)}})),t={legend:{data:["访问量"],top:10},xAxis:{type:"category",data:l,axisLabel:{interval:l.length-2},axisTick:{show:!1}},yAxis:{type:"value"},grid:{x:40,y:40,x2:30,y2:40},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:"访问量",data:i,type:"line",itemStyle:{color:"#60c696",lineStyle:{color:"#60c696"}}}]}}},n=async e=>{await i(e),a.setOption(t)};return(0,l.YP)((()=>s.ZP.currentRoute.value.params.id),(async e=>{void 0!==e&&await n(e)})),(0,l.bv)((async()=>{await i(s.ZP.currentRoute.value.params.id),a=Ye.S1(e.value),a.setOption(t)})),{setData:n,statisticChart:e}}});const Re=(0,fe.Z)(qe,[["render",Ue],["__scopeId","data-v-25e0d56e"]]);var Be=Re,Xe=t(8938),Ke=(0,l.aZ)({components:{DataHead:Ce,DataDescription:we,LocationMap:Me,MapVisual:Oe.Z,PhotoVisual:Ee.Z,ExcelVisual:Ve.Z,VideoVisual:Je.Z,Statistics:Be,PageCopyright:Xe.Z},props:{fileInfo:{type:Object}},setup(e){const a=["#5470C6","#91CC75","#EE6666","#E5DB4B"],t=(0,He.e)(),i=(0,o.iH)(!0),n=(0,o.iH)(!0),r=(0,o.iH)(!0),d=(0,o.iH)(!1),c=(0,o.iH)(!1),v=(0,o.iH)(!1),p=(0,o.iH)(!1),m=(0,o.iH)([]),f=(0,o.iH)([]),y=(0,o.iH)([]),w=(0,o.iH)([]),g=(0,o.iH)([]),h=(0,o.iH)([]),_=(0,o.iH)([]),k=(0,o.iH)([]),S=(0,o.iH)([]),W=(0,o.iH)([]),L=(0,o.iH)([]),D=(0,o.iH)([]),I=(0,o.iH)({timeList:[],legend:[],yAxis:[],series:[],flag:!1}),C=(0,o.iH)([]),x=(0,o.iH)(),H=(0,o.iH)(0),T=(0,o.iH)(1);let b="";const A=(0,l.Fl)((()=>e.fileInfo?.location)),Z=(0,l.Fl)((()=>e.fileInfo)),N=(0,l.Fl)((()=>""!=e.fileInfo.avatar?"/monitor/visual/getAvatar/"+e.fileInfo.avatar:(0,xe.xW)(void 0===e.fileInfo.name?"":e.fileInfo.name))),P=e=>""===e||void 0===e||null===e?"":(0,xe.vc)(e,"yyyy-MM-dd"),F=async a=>{"实时水位"===e.fileInfo?.type?-1===C.value[a].fileName.indexOf("UTC+")?window.location.href=`https://geomodeling.njnu.edu.cn/waterLevel/download/downloadOne1/${C.value[a].fileName}`:window.location.href=`https://geomodeling.njnu.edu.cn/waterLevel/download/downloadOne2/${C.value[a].fileName}`:window.location.href=`/monitor/files/downloadFile/${C.value[a].id}`},j=async()=>{"实时水位"===e.fileInfo?.type?window.location.href=`https://geomodeling.njnu.edu.cn/waterLevel/download/downloadByStation/${b}`:window.location.href=`/monitor/dataList/downloadAll/${Z.value.id}/${t.email}`},z=e=>{s.ZP.push({name:"resourceDetail",params:{id:e}})},M=async e=>{const a=await(0,u.TD)(Z.value.type,Z.value.id,10,e-1);null!=a&&0===a.code&&(x.value=a.data.list,H.value=a.data.total)},O=async e=>{if(e){I.value={timeList:[],yAxis:[],series:[],legend:[],flag:!0};const t=e.name,l=e.type;let i=50;e.keysCn.key.forEach(((e,t)=>{t>=2?(I.value.yAxis.push({alignTicks:!0,axisLine:{show:!0,lineStyle:{color:a[t]}},type:"value",offset:i}),i+=50):I.value.yAxis.push({alignTicks:!0,type:"value",axisLine:{show:!0,lineStyle:{color:a[t]}}}),I.value.legend.push(e),I.value.series.push({name:e,data:[],type:"line",smooth:!0,yAxisIndex:t,itemStyle:{normal:{color:a[t],lineStyle:{color:a[t]}}}})}));const n=new Date,o=new Date;n.setTime(o.getTime()-864e5);const s=await(0,u.ST)(l,t,(0,xe.vc)(new Date((0,xe.vc)(n.toString(),"yyyy-MM-dd hh")+":00:00").toString(),"yyyy-MM-dd hh")+":00:00",(0,xe.vc)(new Date((0,xe.vc)(o.toString(),"yyyy-MM-dd hh")+":00:00").toString(),"yyyy-MM-dd hh")+":00:00");null!=s&&0===s.code&&s.data.forEach((a=>{I.value.timeList.push(a.time.substring(10,16)),e.keys.key.forEach(((e,t)=>{I.value.series[t].data.push(a[e])}))}))}},E=async a=>{if("实时水位"===e.fileInfo?.type){n.value=!0;const e=await(0,u.kg)(a);b=e?.data.nameEn,C.value=[];const t=Date.now();if(e&&0===e.code){const a=(0,xe.Xc)(e.data.startTime.key[0],t),l=(0,xe.Xc)(e.data.startTime.key[1],t),i=e.data.nameEn;for(let e=a.length-1;e>=0;e--)C.value.push({fileName:i+a[e]+".txt",size:""});for(let e=l.length-1;e>=0;e--)C.value.push({fileName:i+"UTC+8"+l[e]+".txt",size:""})}n.value=!1,i.value=!0,await O(e?.data),d.value=!1,c.value=!1,v.value=!0,p.value=!1,i.value=!1}else{n.value=!0;const e=await(0,u.g8)(a);null!=e&&0===e.code&&(C.value=e.data),n.value=!1,m.value=[],f.value=[],w.value=[],y.value=[];let t=!1,l=!1,o=!1,s=!1;i.value=!0;for(let a=0;a<C.value.length;a++){let e,i;if(e=C.value[a].visualType,i=C.value[a].visualId,""!=e){if("lineVectorTile3D"!==e&&"lineVectorTile"!==e||(m.value.push({visualId:i,type:"line",view:JSON.parse(C.value[a].view)}),t=!0),"pointVectorTile"!==e&&"pointVectorTile3D"!==e||(m.value.push({visualId:i,type:"circle",view:JSON.parse(C.value[a].view)}),t=!0),"polygonVectorTile"!==e&&"polygonVectorTile3D"!==e||(m.value.push({visualId:i,type:"fill",view:JSON.parse(C.value[a].view)}),t=!0),"rasterTile"==e&&(y.value.push({visualId:i,view:JSON.parse(C.value[a].view)}),t=!0),"png"==e){const e=await(0,u.Pk)(i);null!=e&&0===e.code&&f.value.push({visualId:i,coordinates:e.data,view:JSON.parse(C.value[a].view)}),t=!0}if("movePng"==e){const e=await(0,u.Pk)(i);null!=e&&0===e.code&&w.value.push({name:C.value[a].fileName,visualId:i,coordinates:e.data,view:JSON.parse(C.value[a].view)}),t=!0}"photo"===e&&(g.value.push(`/monitor/visual/getPhoto/${C.value[a].id}`),l=!0),"video"===e&&(h.value.push({fileName:C.value[a].fileName,url:`/monitor/visual/video/${C.value[a].id}`}),s=!0),"sandContent"===e&&(k.value.push(i),_.value.push(C.value[a].fileName),o=!0),"suspension"===e&&(S.value.push(i),_.value.push(C.value[a].fileName),o=!0),"rateDirection"===e&&(W.value.push(i),_.value.push(C.value[a].fileName),o=!0),"salinity"===e&&(L.value.push(i),_.value.push(C.value[a].fileName),o=!0),"flowSand_Z"===e&&(D.value.push(i),_.value.push(C.value[a].fileName),o=!0)}}d.value=t,c.value=l,v.value=o,p.value=s,i.value=!1}},V=async(e,a)=>{r.value=!0;const t=await(0,u.TD)(a,e,10,0);null!=t&&0===t.code&&(x.value=t.data.list,H.value=t.data.total),r.value=!1};return(0,l.YP)((()=>s.ZP.currentRoute.value.params.id),((e,a)=>{void 0!==e&&(E(e),V(e,Z.value.type))}),{immediate:!0}),{fileInfo:Z,photoList:g,videoList:h,date:P,avatar:N,downloadOrigin:F,location:A,fileList:C,sandContentList:k,suspensionList:S,rateDirectionList:W,salinityList:L,flowSandZList:D,visualSkeleton:i,fileSkeleton:n,similarSkeleton:r,mapShow:d,photoShow:c,excelShow:v,shpArray:m,pngArray:f,videoShow:p,tableNameList:_,movePngArray:w,rasterTileArray:y,similarDataList:x,similarTotal:H,currentPageSimilar:T,waterLevelInfo:I,pageChangeSimilar:M,similarClick:z,downloadAll:j}}});const Ge=(0,fe.Z)(Ke,[["render",ue],["__scopeId","data-v-3886eb78"]]);var Qe=Ge,ea=(0,l.aZ)({components:{DataDetail:Qe},setup(){const e=(0,o.iH)(!0),a=(0,o.iH)(),t=async e=>{const t=await(0,u.hr)(e);t&&0===t.code&&(a.value=t.data,await(0,u.nq)(e))};return(0,l.YP)((()=>s.ZP.currentRoute.value.params.id),(async(a,l)=>{void 0!==a&&(await t(a),e.value=!1)}),{immediate:!0}),{skeletonFlag:e,fileInfo:a}}});const aa=(0,fe.Z)(ea,[["render",n],["__scopeId","data-v-1ce09722"]]);var ta=aa}}]);
//# sourceMappingURL=319.23a32031.js.map